######################################################
# MAA Manager - Retrain Tab Triggers
######################################################
######################################################
# Retrain Target Type Matcher
# Similar to maa_manager_type_matches_selection but checks maa_manager_retrain_target_type
# Used to find the newly created regiment after retraining
# Scope: Regiment (checking if this regiment matches the stored retrain target type)
# ROOT: Character (has the stored variable)
######################################################
maa_manager_type_matches_retrain_target = {
	# Ensure a retrain target has been set
	ROOT = {
		has_variable = maa_manager_retrain_target_type
	}
	# Flag check removed - using variables now
	OR = {
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:abudrar
			}
			is_maa_type = abudrar
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:accolade_maa_archers
			}
			is_maa_type = accolade_maa_archers
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:accolade_maa_cameliers
			}
			is_maa_type = accolade_maa_cameliers
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:accolade_maa_crossbowers
			}
			is_maa_type = accolade_maa_crossbowers
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:accolade_maa_elephantiers
			}
			is_maa_type = accolade_maa_elephantiers
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:accolade_maa_horse_archers
			}
			is_maa_type = accolade_maa_horse_archers
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:accolade_maa_lancers
			}
			is_maa_type = accolade_maa_lancers
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:accolade_maa_outriders
			}
			is_maa_type = accolade_maa_outriders
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:accolade_maa_pikes
			}
			is_maa_type = accolade_maa_pikes
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:accolade_maa_skirmishers
			}
			is_maa_type = accolade_maa_skirmishers
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:accolade_maa_vanguards
			}
			is_maa_type = accolade_maa_vanguards
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:akritai
			}
			is_maa_type = akritai
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:archers_of_the_nile
			}
			is_maa_type = archers_of_the_nile
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:armored_footmen
			}
			is_maa_type = armored_footmen
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:armored_horsemen
			}
			is_maa_type = armored_horsemen
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:asawira
			}
			is_maa_type = asawira
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:ayrudzi
			}
			is_maa_type = ayrudzi
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:ayyar
			}
			is_maa_type = ayyar
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:ballistrai
			}
			is_maa_type = ballistrai
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:bombard
			}
			is_maa_type = bombard
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:bondi
			}
			is_maa_type = bondi
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:bowmen
			}
			is_maa_type = bowmen
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:bush_hunter
			}
			is_maa_type = bush_hunter
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:caballero
			}
			is_maa_type = caballero
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:camel_rider
			}
			is_maa_type = camel_rider
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:cataphract
			}
			is_maa_type = cataphract
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:cataphract_archers
			}
			is_maa_type = cataphract_archers
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:chasseur
			}
			is_maa_type = chasseur
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:chu_ko_nu
			}
			is_maa_type = chu_ko_nu
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:conrois
			}
			is_maa_type = conrois
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:crossbowmen
			}
			is_maa_type = crossbowmen
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:druzhina
			}
			is_maa_type = druzhina
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:garudas
			}
			is_maa_type = garudas
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:gendarme
			}
			is_maa_type = gendarme
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:goedendag
			}
			is_maa_type = goedendag
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:guanch_vaulter
			}
			is_maa_type = guanch_vaulter
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:guinea_warrior
			}
			is_maa_type = guinea_warrior
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:handpicked_faithful
			}
			is_maa_type = handpicked_faithful
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:heavy_horse_archers
			}
			is_maa_type = heavy_horse_archers
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:hobelar
			}
			is_maa_type = hobelar
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:horn_warrior
			}
			is_maa_type = horn_warrior
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:horse_archers
			}
			is_maa_type = horse_archers
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:house_guard
			}
			is_maa_type = house_guard
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:huscarl
			}
			is_maa_type = huscarl
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:hussar
			}
			is_maa_type = hussar
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:jomsviking_pirates
			}
			is_maa_type = jomsviking_pirates
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:khandayat
			}
			is_maa_type = khandayat
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:kheshig
			}
			is_maa_type = kheshig
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:landsknecht
			}
			is_maa_type = landsknecht
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:light_footmen
			}
			is_maa_type = light_footmen
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:light_horsemen
			}
			is_maa_type = light_horsemen
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:longbowmen
			}
			is_maa_type = longbowmen
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:maa_bandits
			}
			is_maa_type = maa_bandits
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:maa_marauders
			}
			is_maa_type = maa_marauders
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:maa_poachers
			}
			is_maa_type = maa_poachers
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:maa_thieves
			}
			is_maa_type = maa_thieves
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:mangonel
			}
			is_maa_type = mangonel
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:mangudai
			}
			is_maa_type = mangudai
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:maturkan_warriors
			}
			is_maa_type = maturkan_warriors
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:metsanvartija
			}
			is_maa_type = metsanvartija
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:monaspa
			}
			is_maa_type = monaspa
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:mountaineer
			}
			is_maa_type = mountaineer
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:mubarizun
			}
			is_maa_type = mubarizun
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:mulaththamun
			}
			is_maa_type = mulaththamun
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:nomad_lancers
			}
			is_maa_type = nomad_lancers
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:onager
			}
			is_maa_type = onager
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:paiks
			}
			is_maa_type = paiks
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:palace_guards
			}
			is_maa_type = palace_guards
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:picchieri
			}
			is_maa_type = picchieri
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:pikemen_unit
			}
			is_maa_type = pikemen_unit
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:praetorian
			}
			is_maa_type = praetorian
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:sahel_horsemen
			}
			is_maa_type = sahel_horsemen
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:sarawit
			}
			is_maa_type = sarawit
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:schiltron
			}
			is_maa_type = schiltron
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:shomer
			}
			is_maa_type = shomer
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:skoutatoi
			}
			is_maa_type = skoutatoi
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:steppe_raiders
			}
			is_maa_type = steppe_raiders
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:tarkhan
			}
			is_maa_type = tarkhan
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:tawashi
			}
			is_maa_type = tawashi
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:teutonic_knights
			}
			is_maa_type = teutonic_knights
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:torch_bearers
			}
			is_maa_type = torch_bearers
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:trebuchet
			}
			is_maa_type = trebuchet
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:varangian_guards
			}
			is_maa_type = varangian_guards
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:varangian_veterans
			}
			is_maa_type = varangian_veterans
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:vigmen
			}
			is_maa_type = vigmen
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:war_elephant
			}
			is_maa_type = war_elephant
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:zbrojnosh
			}
			is_maa_type = zbrojnosh
		}
		AND = {
			ROOT = {
				var:maa_manager_retrain_target_type = flag:zupin_warrior
			}
			is_maa_type = zupin_warrior
		}
	}
}
